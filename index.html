<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¿˜å¹´ä¼šã‚¯ã‚¤ã‚º2024 â€“ ãƒšãƒ¼ã‚¸æ§‹æˆç‰ˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Hiragino Kaku Gothic ProN', 'ãƒ¡ã‚¤ãƒªã‚ª', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 30px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        /* å„ãƒšãƒ¼ã‚¸ã¯ page ã‚¯ãƒ©ã‚¹ã§ç®¡ç†ã—ã€active ã®ä»˜ã„ãŸã‚‚ã®ã ã‘è¡¨ç¤º */
        .page {
            display: none;
        }
        .page.active {
            display: block;
        }

        /* ãƒãƒ¼ãƒ é¸æŠãƒšãƒ¼ã‚¸ç”¨ã‚¹ã‚¿ã‚¤ãƒ« */
        .team-page {
            text-align: center;
        }
        .team-page h1 {
            font-size: 48px;
            color: #667eea;
            margin-bottom: 20px;
        }
        .team-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        .team-button {
            padding: 20px;
            font-size: 22px;
            font-weight: bold;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: white;
        }
        .team-button:nth-child(1) { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
        .team-button:nth-child(2) { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); }
        .team-button:nth-child(3) { background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); }
        .team-button:nth-child(4) { background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); }
        .team-button:nth-child(5) { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .team-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        /* å•é¡Œãƒšãƒ¼ã‚¸ã¨å›ç­”ãƒšãƒ¼ã‚¸ã®å…±é€šã‚¹ã‚¿ã‚¤ãƒ« */
        .quiz-page, .answer-page {
            margin-top: 40px;
        }
        .question-title {
            font-size: 32px;
            color: #333;
            margin-bottom: 20px;
            font-weight: bold;
        }
        .question-text {
            font-size: 26px;
            margin-bottom: 25px;
            white-space: pre-line;
        }
        .options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        .option-box {
            background: #fff;
            border: 4px solid #e0e0e0;
            border-radius: 20px;
            padding: 20px;
            font-size: 20px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 15px;
            min-height: 80px;
            transition: all 0.3s ease;
        }
        .option-box:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
            border-color: #4facfe;
        }
        .option-box.selected {
            border-color: #4facfe;
            background: #e3f5ff;
        }
        .option-label {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: bold;
            color: #fff;
            flex-shrink: 0;
        }
        .option-a .option-label { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
        .option-b .option-label { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); }
        .option-c .option-label { background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); }
        .option-d .option-label { background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); }

        .action-button {
            margin-top: 30px;
            padding: 15px 40px;
            font-size: 22px;
            font-weight: bold;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 40px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .action-button:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }
        .action-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .answer-content {
            font-size: 24px;
            line-height: 1.6;
        }

        .final-page {
            text-align: center;
            padding: 60px 20px;
        }
        .final-page h1 {
            font-size: 48px;
            color: #667eea;
            margin-bottom: 20px;
        }
        .final-page p {
            font-size: 24px;
            margin-bottom: 30px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- ç­é¸æŠãƒšãƒ¼ã‚¸ -->
        <div id="teamPage" class="page team-page active">
            <h1>ğŸ‰ å¿˜å¹´ä¼šã‚¯ã‚¤ã‚º 2024 ğŸ‰</h1>
            <p style="font-size: 22px; color: #666;">ç­ã‚’é¸æŠã—ã¦ãã ã•ã„</p>
            <div class="team-buttons">
                <button class="team-button" onclick="startQuiz(1)">1ç­</button>
                <button class="team-button" onclick="startQuiz(2)">2ç­</button>
                <button class="team-button" onclick="startQuiz(3)">3ç­</button>
                <button class="team-button" onclick="startQuiz(4)">4ç­</button>
                <button class="team-button" onclick="startQuiz(5)">5ç­</button>
            </div>
        </div>

        <!-- å•é¡Œãƒšãƒ¼ã‚¸ -->
        <div id="quizPage" class="page quiz-page">
            <div class="question-title" id="quizTitle"></div>
            <div class="question-text" id="quizQuestion"></div>
            <div class="options" id="optionsContainer"></div>
            <button class="action-button" id="submitAnswerBtn" onclick="submitAnswer()" disabled>å›ç­”ã‚’è¦‹ã‚‹</button>
        </div>

        <!-- å›ç­”ãƒšãƒ¼ã‚¸ -->
        <div id="answerPage" class="page answer-page">
            <div class="question-title" id="answerTitle"></div>
            <div class="answer-content" id="answerContent"></div>
            <button class="action-button" id="nextQuizBtn" onclick="goToNextQuestion()">æ¬¡ã®ã‚¯ã‚¤ã‚ºã¸</button>
        </div>

        <!-- æœ€çµ‚ãƒšãƒ¼ã‚¸ -->
        <div id="finalPage" class="page final-page">
            <h1>ğŸŠ ãŠç–²ã‚Œæ§˜ã§ã—ãŸï¼ ğŸŠ</h1>
            <p id="finalMessage">å…¨ã¦ã®å›ç­”ãŒé€ä¿¡ã•ã‚Œã¾ã—ãŸã€‚</p>
            <button class="action-button" onclick="location.reload()">æœ€åˆã«æˆ»ã‚‹</button>
        </div>
    </div>

    <script>
        // ã‚¯ã‚¤ã‚ºãƒ‡ãƒ¼ã‚¿
        const quizData = [
            {
                title: 'ç¬¬1å•',
                question: 'å­¦ç”Ÿæ™‚ä»£ã€å®Ÿã¯ã€‡ã€‡ã§ã—ãŸï¼\nçµ„ã¿åˆã‚ã›ã‚’æ­£è§£ã›ã‚ˆ',
                options: [
                    'åŸäº•Ã—åŠä¸»',
                    'å²©å´Ã—ä½“è‚²ä¼šã®éƒ¨æ´»ã§å®´ä¼šéšŠé•·',
                    'çŸ³ç”°Ã—å‹‰å¼·éƒ¨',
                    'å‰å·Ã—ä½“åŠ›ãƒ†ã‚¹ãƒˆã§å­¦å¹´2ä½'
                ],
                answerInfo: 'åŸäº•Ã—åŠä¸» / å²©å´Ã—ä½“è‚²ä¼šã®éƒ¨æ´»ã§å®´ä¼šéšŠé•· / çŸ³ç”°Ã—å‹‰å¼·éƒ¨ / å‰å·Ã—ä½“åŠ›ãƒ†ã‚¹ãƒˆã§å­¦å¹´2ä½'
            },
            {
                title: 'ç¬¬2å•',
                question: 'ã¾ã èª°ã«ã‚‚æ•™ãˆãŸã“ã¨ã®ãªã„è¶£å‘³ã¯ï¼Ÿ',
                options: [
                    'æ¯ç”°Ã—(æ¯ã¨ä¸€ç·’ã«)ãƒã‚¬ã‚­è·äºº',
                    'æ²³æ‘Ã—å…„ã®SNSã‚’ç›£è¦–ã™ã‚‹ã“ã¨',
                    'å±±æœ¬Ã—ã‚¤ãƒ³ã‚¹ã‚¿ã«å‡ºã¦ãã‚‹å¥³æ€§å‘ã‘æ‹æ„›å°èª¬ã‚’èª­ã‚€',
                    'å‰ç”°Ã—å¤§ãã‚ã®å…¬åœ’ã§ã€å­ã©ã‚‚ãŒã‚µãƒƒã‚«ãƒ¼ã™ã‚‹ã®ã‚’è¦‹ã‚‹'
                ],
                answerInfo: 'æ¯ç”°Ã—ãƒã‚¬ã‚­è·äºº / æ²³æ‘Ã—å…„ã®SNSã‚’ç›£è¦–ã™ã‚‹ã“ã¨ / å±±æœ¬Ã—å¥³æ€§å‘ã‘æ‹æ„›å°èª¬ã‚’èª­ã‚€ / å‰ç”°Ã—å…¬åœ’ã§å­ã©ã‚‚ãŒã‚µãƒƒã‚«ãƒ¼ã™ã‚‹ã®ã‚’è¦‹ã‚‹'
            },
            {
                title: 'ç¬¬3å•',
                question: 'å¯Œæ¨«ã•ã‚“ãŒéå»ã®æ‹æ„›ã«ã¾ã¤ã‚ã‚‹\nã€Œä»Šã ã‹ã‚‰è¨€ãˆã‚‹è©±ã€ã¯ï¼Ÿ',
                options: [
                    'å¤§å­¦ã®ã‚ªãƒ¼ãƒ—ãƒ³ã‚­ãƒ£ãƒ³ãƒ‘ã‚¹ã§å¥½ããªäººã‚’èª˜ã£ã¦ã„ãŸ',
                    'å¤§å­¦é™¢ç”Ÿæ™‚ä»£ã«ä»˜ãåˆã£ã¦ã„ãŸå½¼å¥³ã«ç›£ç¦ã•ã‚Œã¦ã„ãŸ',
                    'å¤§å­¦ãƒ‡ãƒ“ãƒ¥ãƒ¼ã§4æœˆã«ã‚¿ã‚¤ãƒ—ã®å¥³æ€§2äººã¨ãƒ‡ãƒ¼ãƒˆã«è¡Œã£ãŸ',
                    'æœ€è¿‘ä¸€ç•ªæœ€åˆã«ä»˜ãåˆã£ãŸå½¼å¥³ã«çµå©šã‚’è¿«ã‚‰ã‚Œã¦ã„ã‚‹'
                ],
                answerInfo: 'æ­£è§£: ã‚ªãƒ—ã‚·ãƒ§ãƒ³4'
            },
            {
                title: 'ç¬¬4å•',
                question: 'å²©å´ã•ã‚“ã®ä»•äº‹ã®ã“ã ã‚ã‚Šã¯ï¼Ÿ',
                options: [
                    'é›»è©±ã®æ™‚ã«å¿…è¦ä»¥ä¸Šã«å£°è‰²ã‚’ä¸Šã’ã¦ã„ã‚‹',
                    'ã‚¤ã‚¹ã¯ä¸€ç•ªé«˜ã„ã¨ã“ã‚ã¾ã§ä¸Šã’ã¦åº§ã‚‹',
                    'è‹¥å¹²é…ã‚Œç›®ã«Meetã«å…¥ã‚‹',
                    'ã“ã‚Œã§ã„ã“ã†ï¼ã¨æ€ã£ãŸã“ã¨ã‚’ä¸€æ™©å¯ã‹ã›ã¦ã€ç¿Œæ—¥ã‚‚è‰¯ã„ã‚‚ã®ã¨æ€ãˆã‚Œã°æ¡ç”¨ã™ã‚‹'
                ],
                answerInfo: 'æ­£è§£ã¯æº–å‚™ä¸­ã§ã™'
            },
            {
                title: 'ç¬¬5å•',
                question: 'åŸäº•ã•ã‚“æœ€è¿‘ä¸€ç•ªãƒ–ãƒã‚®ãƒ¬ãŸ\nã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ã¯ï¼Ÿ',
                options: [
                    'å¤§å¡šã•ã‚“ã¨ãƒ•ã‚§ã‚¹(11:00é–‹å§‹)ã«è¡Œãç´„æŸã—ã¦ãŸã®ã«å¯åŠã—ã¦18:30ã«æ¥ãŸ',
                    'è»Šã‹ã‚‰å®¶ã¸é‹ã¶è·ç‰©ã®å‰²åˆã§å¦»ã«ã‚­ãƒ¬ã‚‰ã‚ŒãŸã“ã¨',
                    'ã‚¢ã‚¤ã‚¢ãƒ³ãŒã†ã¾ãå½“ãŸã‚‰ãªãã¦ã‚­ãƒ¬æ•£ã‚‰ã‹ã—ã¦ã¾ã™(ã‚´ãƒ«ãƒ•ã®è©±)',
                    'æ€’ã£ãŸã“ã¨ãªã„ ã¿ã‚“ãªãŸã„ã›ã¤ ã—ã‚ã‚ã›'
                ],
                answerInfo: 'æ­£è§£ã¯æº–å‚™ä¸­ã§ã™'
            },
            {
                title: 'ç¬¬6å•',
                question: 'ãˆã‚Šã¡ã‚‡ã™ã“ã¨å‰å·æé‡Œã®\nå­¦ç”Ÿæ™‚ä»£ã€å®Ÿã¯ã€‡ã€‡ã§ã—ãŸã€œã€œ',
                options: [
                    'å¤§é£Ÿã„ã ã£ãŸ',
                    'å¯åŠã°ã‹ã‚Šã§é€²ç´šãŒå±ãªã‹ã£ãŸ',
                    'ã‚¤ãƒ³ã‚³ã‚’é£¼ã£ã¦ã„ãŸ',
                    'é£²ã¿æ¯”ã¹ã§å¥³æ€§ã«è² ã‘ãŸã“ã¨ãŒãªã‹ã£ãŸ'
                ],
                answerInfo: 'æ­£è§£ã¯æº–å‚™ä¸­ã§ã™'
            },
            {
                title: 'ç¬¬7å•',
                question: 'ã¨ã£ã—ãƒ¼ã“ã¨å¹³äº•å£½å¸ŒãŒ\nã‚¬ãƒã§æœ¬ç‰©ã¨é–“é•ãˆã‚‰ã‚ŒãŸèŠ¸èƒ½äººã¯ï¼Ÿ',
                options: [
                    'å¹³é‡ç´«è€€(å…ƒã‚­ãƒ³ãƒ—ãƒª)',
                    'å‰æ‘å´‡(å¹³æˆãƒãƒ–ã‚·ã‚³ãƒ–ã‚·)',
                    'ç™½æ¿±äºœåµ(GENERATIONS)',
                    'ãã®ä»–'
                ],
                answerInfo: 'æ­£è§£ã¯æº–å‚™ä¸­ã§ã™'
            },
            {
                title: 'ç¬¬8å•',
                question: 'ãªã‚‚ã•ã‚“ã“ã¨åæœ¬ä½³å¤®ãŒ\næ”¾ã£ãŸã²ã¨ã“ã¨',
                options: [
                    'å¯æ„›ãã¦ã‚‚',
                    'é‡‘æŒã¡ã§ã‚‚',
                    'æ…¶æ‡‰å‡ºã¦ã¦ã¦ã‚‚',
                    'TWICEã®ãƒŸãƒŠã§ã‚‚'
                ],
                answerInfo: 'æ­£è§£ã¯æº–å‚™ä¸­ã§ã™'
            },
            {
                title: 'ç¬¬9å•',
                question: 'ã‚«ã‚¶ãƒ•ã“ã¨èµ¤å‚å¹¸äº®ãŒ\nãƒ€ãƒ¼ãƒ„ã‚µãƒ¼ã‚¯ãƒ«ã®éƒ¨é•·ã«ç«‹å€™è£œã—ãŸç†ç”±',
                options: [
                    'å‰æ—¥ã®é£²ã¿ã§è² ã‘ãŸã‹ã‚‰',
                    'äººã®ä¸Šã«ç«‹ã¡æ”¯é…ã—ã¦ã¿ãŸã‹ã£ãŸã‹ã‚‰',
                    'ã‚¬ã‚¯ãƒã‚«ã«ä½¿ãˆã‚‹ã¨æ€ã£ãŸã‹ã‚‰',
                    'å¯æ„›ã„å­ã—ã‹å…¥ã‚µãƒ¼ã•ã›ãŸããªã‹ã£ãŸã‹ã‚‰'
                ],
                answerInfo: 'æ­£è§£ã¯æº–å‚™ä¸­ã§ã™'
            }
        ];

        let currentTeam = null;
        let currentIndex = 0;
        let selectedAnswerIndex = null;

        // ç­é¸æŠå¾Œã«ã‚¯ã‚¤ã‚ºã‚’é–‹å§‹
        function startQuiz(teamNumber) {
            currentTeam = teamNumber;
            currentIndex = 0;
            selectedAnswerIndex = null;
            // ãƒãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã‚’éš ã—ã¦æœ€åˆã®è³ªå•ã¸
            document.getElementById('teamPage').classList.remove('active');
            showQuestionPage();
        }

        // è³ªå•ãƒšãƒ¼ã‚¸ã‚’è¡¨ç¤º
        function showQuestionPage() {
            const submitBtn = document.getElementById('submitAnswerBtn');
            submitBtn.disabled = true;
            // ç”»é¢åˆ‡ã‚Šæ›¿ãˆ
            document.getElementById('answerPage').classList.remove('active');
            document.getElementById('finalPage').classList.remove('active');
            document.getElementById('quizPage').classList.add('active');
            // å†…å®¹è¨­å®š
            const data = quizData[currentIndex];
            document.getElementById('quizTitle').textContent = data.title;
            document.getElementById('quizQuestion').textContent = data.question;
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            const labels = ['A','B','C','D'];
            data.options.forEach((opt, idx) => {
                const div = document.createElement('div');
                div.className = `option-box option-${labels[idx].toLowerCase()}`;
                div.innerHTML = `<div class="option-label">${labels[idx]}</div><div>${opt}</div>`;
                div.onclick = () => selectOption(idx, div);
                optionsContainer.appendChild(div);
            });
        }

        function selectOption(index, element) {
            document.querySelectorAll('.option-box').forEach(box => box.classList.remove('selected'));
            element.classList.add('selected');
            selectedAnswerIndex = index;
            document.getElementById('submitAnswerBtn').disabled = false;
        }

        // å›ç­”ã‚’è¦‹ã‚‹ï¼ˆå›ç­”ãƒšãƒ¼ã‚¸ã¸é·ç§»ï¼‰
        function submitAnswer() {
            if (selectedAnswerIndex === null) return;
            // å›ç­”ã‚’ã‚·ãƒ¼ãƒˆã¸é€ä¿¡
            sendAnswerToSheet(currentIndex, selectedAnswerIndex);
            // å›ç­”ãƒšãƒ¼ã‚¸ã«å†…å®¹è¨­å®š
            const data = quizData[currentIndex];
            document.getElementById('answerTitle').textContent = data.title + ' ã®å›ç­”';
            const labels = ['A','B','C','D'];
            const chosenLabel = labels[selectedAnswerIndex];
            let info = '';
            info += `<p><strong>ã‚ãªãŸã®å›ç­”:</strong> ${chosenLabel} - ${data.options[selectedAnswerIndex]}</p>`;
            info += `<p><strong>æ­£è§£æƒ…å ±:</strong> ${data.answerInfo}</p>`;
            document.getElementById('answerContent').innerHTML = info;
            // ç”»é¢åˆ‡ã‚Šæ›¿ãˆ
            document.getElementById('quizPage').classList.remove('active');
            document.getElementById('answerPage').classList.add('active');
        }

        // æ¬¡ã®è³ªå•ã¸
        function goToNextQuestion() {
            selectedAnswerIndex = null;
            currentIndex++;
            if (currentIndex < quizData.length) {
                showQuestionPage();
            } else {
                // æœ€çµ‚ãƒšãƒ¼ã‚¸
                document.getElementById('answerPage').classList.remove('active');
                document.getElementById('finalPage').classList.add('active');
                document.getElementById('finalMessage').textContent = `${currentTeam}ç­ã®å…¨å›ç­”ã‚’é€ä¿¡ã—ã¾ã—ãŸï¼`;
            }
        }

        /**
         * å›ç­”ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã¸é€ä¿¡
         */
        function sendAnswerToSheet(questionIndex, answerIndex) {
            const GAS_URL = 'https://script.google.com/macros/s/AKfycbzgb3M1GQImh1iVKS9tytj-L6RaaGR-_wmR9bbyogEi15rfFGOsafjHeV3e1iD51MvE/exec';
            const labels = ['A','B','C','D'];
            const answerData = {
                team: currentTeam,
                questionNumber: questionIndex + 1,
                answer: labels[answerIndex],
                timestamp: new Date().toISOString()
            };
            const allResults = JSON.parse(localStorage.getItem('quizResults') || '[]');
            allResults.push(answerData);
            localStorage.setItem('quizResults', JSON.stringify(allResults));
            // iframe + form ã§POST
            const iframe = document.createElement('iframe');
            iframe.style.display = 'none';
            iframe.name = 'hidden_iframe_' + Date.now();
            document.body.appendChild(iframe);
            const form = document.createElement('form');
            form.method = 'POST';
            form.action = GAS_URL;
            form.target = iframe.name;
            const input = document.createElement('input');
            input.type = 'hidden';
            input.name = 'data';
            input.value = JSON.stringify(answerData);
            form.appendChild(input);
            document.body.appendChild(form);
            form.submit();
            console.log(`âœ“ ${currentTeam}ç­ Q${questionIndex + 1} ã®å›ç­”(${labels[answerIndex]})ã‚’é€ä¿¡ã—ã¾ã—ãŸ`);
            // å¾Œç‰‡ä»˜ã‘
            setTimeout(() => {
                if (document.body.contains(form)) document.body.removeChild(form);
                if (document.body.contains(iframe)) document.body.removeChild(iframe);
            }, 2000);
        }
    </script>
</body>
</html>
